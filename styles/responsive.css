/* ========================================================= */
/*  GLOBAL RESPONSIVE BASE SYSTEM                            */
/*  Applies across pages (home, blog, future pages)          */
/* ========================================================= */

/* --------------------------------------------------------- */
/*  1. VARIABLES - Breakpoints & Global Scales               */
/* --------------------------------------------------------- */

:root {
  /* Core breakpoints (mobile-first) */
  --bp-mobile: 480px;   /* phones (portrait) */
  --bp-small: 360px;    /* small phones */
  --bp-tablet: 768px;   /* tablets + small landscape phones */
  --bp-laptop: 1024px;  /* small laptops, iPads landscape */
  --bp-desktop: 1440px; /* large desktop monitors */

  /* Font size scaling (root ems) */
  --font-size-base: 16px;
  --font-scale-small: 0.9;
  --font-scale-mobile: 0.95;
  --font-scale-tablet: 1.0;
  --font-scale-laptop: 1.05;
  --font-scale-desktop: 1.1;

  /* Container widths */
  --container-max-small: 100%;
  --container-max-mobile: 100%;
  --container-max-tablet: 85%;
  --container-max-laptop: 80%;
  --container-max-desktop: 70%;

  /* === Independent scaling systems === */
  --scale-global: 1.0;       /* affects layout + text */
  --scale-portal: 1.0;       /* affects animation only */
  --portal-size: 625px;      /* base animation container */
  --portal-y-offset: 0vh;    /* vertical offset for animation centering */
  --portal-x-offset: 0vw;    /* horizontal offset (optional, default centered) */
}

/* --------------------------------------------------------- */
/*  2. BASE RESPONSIVE TYPOGRAPHY (fluid + scaled)           */
/* --------------------------------------------------------- */

html {
  font-size: calc(var(--font-size-base) * var(--scale-global));
}

@media (max-width: var(--bp-small)) {
  html {
    font-size: calc(var(--font-size-base) * var(--font-scale-small) * var(--scale-global));
  }
}

@media (max-width: var(--bp-mobile)) {
  html {
    font-size: calc(var(--font-size-base) * var(--font-scale-mobile) * var(--scale-global));
  }
}
@media (min-width: var(--bp-tablet)) {
  html {
    font-size: calc(var(--font-size-base) * var(--font-scale-tablet) * var(--scale-global));
  }
}
@media (min-width: var(--bp-laptop)) {
  html {
    font-size: calc(var(--font-size-base) * var(--font-scale-laptop) * var(--scale-global));
  }
}
@media (min-width: var(--bp-desktop)) {
  html {
    font-size: calc(var(--font-size-base) * var(--font-scale-desktop) * var(--scale-global));
  }
}

/* --------------------------------------------------------- */
/*  3. FLUID HEADINGS + TEXT                                 */
/* --------------------------------------------------------- */

.name {
  font-size: clamp(1.6rem, 5.5vw, 3.125rem);
  line-height: 1.1;
}

.tagline {
  font-size: clamp(0.8rem, 3.2vw, 1.5rem);
  line-height: 1.3;
}

.intro,
.section-text {
  font-size: clamp(0.85rem, 2.8vw, 1.25rem);
  line-height: 1.5;
}

/* --------------------------------------------------------- */
/*  4. SHARED LAYOUT SYSTEM                                  */
/* --------------------------------------------------------- */

.page-container {
  width: var(--container-max-mobile);
  margin: 0 auto;
}

@media (min-width: var(--bp-tablet)) {
  .page-container { width: var(--container-max-tablet); }
}
@media (min-width: var(--bp-laptop)) {
  .page-container { width: var(--container-max-laptop); }
}
@media (min-width: var(--bp-desktop)) {
  .page-container { width: var(--container-max-desktop); }
}

/* --------------------------------------------------------- */
/*  5. UNIVERSAL RESPONSIVE BEHAVIORS                        */
/* --------------------------------------------------------- */

body {
  overflow-x: hidden;
}

img, svg {
  max-width: 100%;
  height: auto;
}

/* Social links layout */
@media (max-width: var(--bp-tablet)) {
  .socials-container {
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: 1rem;
    max-width: 320px; /* Constrain width to force wrapping */
  }
  
  /* Force blog button to wrap under GitHub */
  .socials-container .social-box:nth-child(4) {
    order: 4;
    margin-left: auto; /* Push to next line */
  }
}

@media (max-width: var(--bp-mobile)) {
  .socials-container {
    gap: 0.8rem;
    max-width: 280px;
  }
  
  .social-link {
    gap: 0.4rem; /* Reduce gap between icon and text */
  }
  
  /* Ensure 3+1 layout on small screens */
  .socials-container .social-box:nth-child(1),
  .socials-container .social-box:nth-child(2),
  .socials-container .social-box:nth-child(3) {
    flex: 0 0 calc(33.333% - 0.533rem); /* 3 items per row with gap */
  }
  
  .socials-container .social-box:nth-child(4) {
    flex: 0 0 calc(50% - 0.4rem); /* Blog button takes half width on second row */
    margin-left: calc(16.666% + 0.2rem); /* Center it under GitHub (middle button) */
  }
}

@media (max-width: var(--bp-small)) {
  .socials-container {
    gap: 0.6rem;
    max-width: 260px;
    padding: 0 0.5rem; /* Add padding to prevent edge touching */
    row-gap: 0; /* Remove gap between rows */
  }
  
  .social-link {
    gap: 0.3rem;
    padding: 0.25rem 0.4rem; /* Add touch target padding */
    border-radius: 4px; /* Subtle rounded corners for better touch */
    font-size: 0.8rem;
  }
  
  /* Tighter 3+1 layout for very small screens */
  .socials-container .social-box:nth-child(1),
  .socials-container .social-box:nth-child(2),
  .socials-container .social-box:nth-child(3) {
    flex: 0 0 calc(33.333% - 0.4rem);
    margin-bottom: 0; /* Remove bottom margin */
  }
  
  .socials-container .social-box:nth-child(4) {
    flex: 0 0 calc(45% - 0.3rem);
    margin-left: calc(18% + 0.15rem);
    margin-top: 0; /* Remove any top margin */
    margin-bottom: 0; /* Remove bottom margin */
  }
  
  /* Special handling for English language at 360px */
  body:not(.lang-de) .socials-container {
    row-gap: 0 !important; /* Force zero row gap for English */
  }
  
  body:not(.lang-de) .socials-container .social-box:nth-child(4) {
    margin-top: -0.2rem; /* Pull blog button closer to first row */
  }
}

/* Blog readability on small screens */
@media (max-width: var(--bp-mobile)) {
  .blog-post {
    padding: 0.75rem;
    font-size: 0.9rem;
  }
  .post-title {
    font-size: 1.25rem;
  }
}

@media (max-width: var(--bp-small)) {
  .blog-post {
    padding: 0.6rem;
    font-size: 0.85rem;
  }
  .post-title {
    font-size: 1.1rem;
  }
}

/* --------------------------------------------------------- */
/*  6. HOME ANIMATION SCALING SYSTEM                         */
/* --------------------------------------------------------- */

.home-portal-animation {
  width: var(--portal-size);
  height: var(--portal-size);
  top: 50%;
  left: 50%;
  transform: translate(
      calc(-50% + var(--portal-x-offset)),
      calc(-50% + var(--portal-y-offset))
    )
    scale(var(--scale-portal));
  transform-origin: center center;
  transition:
    transform 0.3s ease-in-out,
    width 0.3s ease-in-out;
}

/* ================================================== */
/* ===  RESPONSIVE GLOBAL + ANIMATION SCALING     === */
/* ================================================== */

/* ðŸ’» Small laptops & tablets (â‰¤1024px) */
@media (max-width: 1024px) {
  :root {
    --scale-global: 1.0;
    --scale-portal: 0.95;
    --portal-size: 900px;
    --portal-y-offset: -0.5vh;
    --portal-x-offset: 0vw;
  }
}

/* ðŸ“± Tablets & large phones (â‰¤768px) */
@media (max-width: 768px) {
  :root {
    --scale-global: 1.0;
    --scale-portal: 0.85;
    --portal-size: 750px;
    --portal-y-offset: -0.5vh;
    --portal-x-offset: 0vw;
  }
}

/* ðŸ“ž Small phones (â‰¤480px) */
@media (max-width: 480px) {
  :root {
    --scale-global: 0.95;
    --scale-portal: 0.75;
    --portal-size: 550px;
    --portal-y-offset: -1vh;
    --portal-x-offset: 0vw;
  }
}

/* ðŸ“± Very small phones (â‰¤360px) */
@media (max-width: 360px) {
  :root {
    --scale-global: 0.9;
    --scale-portal: 0.65;
    --portal-size: 480px;
    --portal-y-offset: -1.5vh;
    --portal-x-offset: 0vw;
  }
  
  body {
    padding: 0.5rem;
  }
  
  .page-container {
    gap: 0.8rem;
  }
  
  .introduction-container {
    gap: 0.5rem;
  }
}

/* ================================================== */
/* ===  RESPONSIVE MOTION RING FINE-TUNING        === */
/* ================================================== */

@media (max-width: 1024px) {
  :root {
    --scale-blue:   1.15;
    --scale-green:  0.15;
    --scale-orange: 0.31;
    --scale-red:    0.62;
    --scale-yellow: 0.99;
  }
}

@media (max-width: 768px) {
  :root {
    --scale-blue:   1.15;
    --scale-green:  0.15;
    --scale-orange: 0.30;
    --scale-red:    0.63;
    --scale-yellow: 0.99;
  }
}

@media (max-width: 480px) {
  :root {
    --scale-blue:   1.15;
    --scale-green:  0.15;
    --scale-orange: 0.30;
    --scale-red:    0.63;
    --scale-yellow: 0.99;
  }
}

/* --------------------------------------------------------- */
/*  7. SOCIAL LINK + ICON SCALING                            */
/* --------------------------------------------------------- */

@media (max-width: 1024px) {
  .social-link { font-size: 1.1rem; }
  .icon { width: 26px; height: 26px; }
}
@media (max-width: 768px) {
  .social-link { font-size: 1rem; }
  .icon { width: 24px; height: 24px; }
}
@media (max-width: 480px) {
  .social-link { font-size: 0.9rem; }
  .icon { width: 20px; height: 20px; }
}
@media (max-width: 360px) {
  .social-link { font-size: 0.85rem; }
  .icon { width: 18px; height: 18px; }
}

/* --------------------------------------------------------- */
/*  8. RESPONSIVE FOOTER                                     */
/* --------------------------------------------------------- */

/* Global footer style â€” scales with --scale-global */
#site-footer {
  font-size: calc(0.95rem * var(--scale-global));
  padding: calc(0.75rem * var(--scale-global)) 0;
    /* font-size and padding changes are instantaneous for footer to keep
      header/footer/body transitions controlled by the unified rule */
  text-align: center;
  color: #ffff99;
  text-shadow: 2px 2px 2px #000;
  background: #2f2f2f;
}

/* Fine-tuned footer adjustments per breakpoint */
@media (max-width: 1024px) {
  #site-footer {
    font-size: 1.05rem;
    padding: 0.7rem 0;
  }
}
@media (max-width: 768px) {
  #site-footer {
    font-size: 0.9rem;
    padding: 0.65rem 0;
  }
}
@media (max-width: 480px) {
  #site-footer {
    font-size: 0.75rem;
    padding: 0.5rem 0;
  }
}

@media (max-width: 360px) {
  #site-footer {
    font-size: 0.7rem;
    padding: 0.4rem 0;
    line-height: 1.2;
  }
}
